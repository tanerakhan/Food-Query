function search(){var t,e,d,r,o,c,n;for(t=document.getElementById("myInput"),e=t.value.toUpperCase(),d=document.getElementById("foodSearch"),r=d.getElementsByClassName("searchFound"),c=0;c<r.length;c++)o=r[c].getElementsByTagName("a")[0],n=o.textContent||o.innerText,n.toUpperCase().indexOf(e)>-1?r[c].style.display="":r[c].style.display="none"}function template(t,e,d){var r=document.getElementById(d),o=r.cloneNode(!0).outerHTML;o=o.replace(/style="[^"]*"/g,""),o=o.replace(/%(\w*)%/g,function(t,d){return e.hasOwnProperty(d)?e[d]:""});var c=document.createElement("div");return c.className="tmpTit",c.innerHTML=o,c}function populateHeader(t){console.log(t);var t,e,d,r="";for(e in t.ResultSet){t.ResultSet[e].DisplayName.length>0&&(d=template("productList",{product:t.ResultSet[e].DisplayName},"templateForList"),document.getElementById("foodSearch").appendChild(d));for(r in t.ResultSet[e].Products)"..."!=t.ResultSet[e].Products[r].ListPrice&&(d=template("productList",{product:t.ResultSet[e].Products[r].DisplayName,price:t.ResultSet[e].Products[r].ListPrice,description:t.ResultSet[e].Products[r].Description},"templateForListProduct"),document.getElementById("foodSearch").appendChild(d))}var o=document.getElementById("templateForList"),c=(o.remove(),document.getElementById("templateForListProduct"));c.remove()}function addcart(t){var e=t.getAttribute("data-name"),d=t.getAttribute("data-desc"),r=t.getAttribute("data-price");document.getElementById("productID").value=e,document.getElementById("_productID").innerHTML=e,document.getElementById("price").value=r,document.getElementById("_price").innerHTML=r,document.getElementById("product_desc").value=d,document.getElementById("_product_desc").innerHTML=d;document.getElementById("popup").style.display="block",document.getElementById("bgOverlay").style.display="block"}function addProduct(){var t=document.getElementById("productID").value,e=document.getElementById("product_desc").value,d=document.getElementById("quantity").value,r=document.getElementById("price").value,o={product_id:null,product_desc:null,product_qty:0,product_price:0};o.product_id=t,o.product_desc=e,o.product_qty=d,o.product_price=r,products.push(o);var c="<table>";c+="<td>Ürün Adı</td>",c+="<td>Açıklaması</td>",c+="<td>Adet</td>",c+="<td>Fiyat</td>",c+="<td></td>";for(var n=0;n<products.length;n++)c+="<tr>",c+="<td>"+products[n].product_id+"</td>",c+="<td>"+products[n].product_desc+"</td>",c+="<td>"+products[n].product_qty+"</td>",c+="<td>"+products[n].product_price+"</td>",c+="<td><button type='submit' class='addDelButton' onClick='deleteProduct(\""+products[n].product_id+"\", this);'/>Sepetten Sil</button> &nbsp <button type='submit' class='addDelButton' onClick='addCart(\""+products[n].product_id+"\", this);'/>Sonraki Adım</button></td>",c+="</tr>";c+="</table>",document.getElementById("addToCardDesc").innerHTML=c}function deleteProduct(t,e){e.parentNode.parentNode.parentNode.removeChild(e.parentNode.parentNode);for(var d=0;d<products.length;d++)products[d].product_id==t&&products.splice(d,1)}function addCart(t){for(var e=0;e<products.length;e++)if(products[e].product_id==t){for(var d=null,r=0;r<cart.length;r++)if(cart[r].product.product_id==products[e].product_id){d=cart[r],cart[r].product_qty++;break}if(null==d){var d={product:products[e],product_qty:products[e].product_qty};cart.push(d)}}renderCartTable()}function renderCartTable(){var t="",e=document.getElementById("addToCardDone");e.innerHTML="",t+="<table id='tblCart'>",t+="<tr><td>Ürün Adı</td>",t+="<td>Açıklaması</td>",t+="<td>Adet</td>",t+="<td>Fiyat</td>",t+="<td></td></tr>";for(var d=0,r=0;r<cart.length;r++)t+="<tr>",t+="<td>"+cart[r].product.product_id+"</td>",t+="<td>"+cart[r].product.product_desc+"</td>",t+="<td>"+cart[r].product_qty+"</td>",t+="<td>"+cart[r].product.product_price+" TL</td>",t+="<td><button class='quantity' type='submit' onClick='subtractQuantity(\""+cart[r].product.product_id+"\", this);'/>-</button> &nbsp<button class='quantity' type='submit' onClick='addQuantity(\""+cart[r].product.product_id+"\", this);'/>+</button> &nbsp<button type='submit' class='removeItem' onClick='removeItem(\""+cart[r].product.product_id+"\", this);'/>x</button></td>",t+="</tr>",d+=parseFloat(cart[r].product.product_price)*parseInt(cart[r].product_qty);document.getElementById("totalPriceAmount").innerHTML=d+" TL",t+="</table>",e.innerHTML=t}function subtractQuantity(t){for(var e=0;e<cart.length;e++)cart[e].product.product_id==t&&cart[e].product_qty--,0==cart[e].product_qty&&cart.splice(e,1);renderCartTable()}function addQuantity(t){for(var e=0;e<cart.length;e++)cart[e].product.product_id==t&&cart[e].product_qty++;renderCartTable()}function removeItem(t){for(var e=0;e<cart.length;e++)cart[e].product.product_id==t&&cart.splice(e,1);renderCartTable()}var listItem=document.getElementsByClassName("searchList"),section=document.querySelector("section"),requestURL="https://tanerakhan.com/yemeksepeti/response.php/d",request=new XMLHttpRequest;request.open("GET",requestURL),request.responseType="json",request.send(),request.onload=function(){var t=request.response;populateHeader(t)},document.getElementById("bgOverlay").addEventListener("click",function(t){t.preventDefault();document.getElementById("popup").style.display="none",document.getElementById("bgOverlay").style.display="none"});var products=[],cart=[];